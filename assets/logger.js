var G=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function K(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var O={exports:{}};(function(e){(function(l,n){e.exports?e.exports=n():l.log=n()})(G,function(){var l=function(){},n="undefined",L=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),p=["trace","debug","info","warn","error"],f={},i=null;function v(t,s){var o=t[s];if(typeof o.bind=="function")return o.bind(t);try{return Function.prototype.bind.call(o,t)}catch{return function(){return Function.prototype.apply.apply(o,[t,arguments])}}}function h(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function b(t){return t==="debug"&&(t="log"),typeof console===n?!1:t==="trace"&&L?h:console[t]!==void 0?v(console,t):console.log!==void 0?v(console,"log"):l}function u(){for(var t=this.getLevel(),s=0;s<p.length;s++){var o=p[s];this[o]=s<t?l:this.methodFactory(o,t,this.name)}if(this.log=this.debug,typeof console===n&&t<this.levels.SILENT)return"No console available for logging"}function I(t){return function(){typeof console!==n&&(u.call(this),this[t].apply(this,arguments))}}function T(t,s,o){return b(t)||I.apply(this,arguments)}function E(t,s){var o=this,A,x,y,a="loglevel";typeof t=="string"?a+=":"+t:typeof t=="symbol"&&(a=void 0);function P(r){var c=(p[r]||"silent").toUpperCase();if(!(typeof window===n||!a)){try{window.localStorage[a]=c;return}catch{}try{window.document.cookie=encodeURIComponent(a)+"="+c+";"}catch{}}}function _(){var r;if(!(typeof window===n||!a)){try{r=window.localStorage[a]}catch{}if(typeof r===n)try{var c=window.document.cookie,C=encodeURIComponent(a),M=c.indexOf(C+"=");M!==-1&&(r=/^([^;]+)/.exec(c.slice(M+C.length+1))[1])}catch{}return o.levels[r]===void 0&&(r=void 0),r}}function D(){if(!(typeof window===n||!a)){try{window.localStorage.removeItem(a)}catch{}try{window.document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function m(r){var c=r;if(typeof c=="string"&&o.levels[c.toUpperCase()]!==void 0&&(c=o.levels[c.toUpperCase()]),typeof c=="number"&&c>=0&&c<=o.levels.SILENT)return c;throw new TypeError("log.setLevel() called with invalid level: "+r)}o.name=t,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=s||T,o.getLevel=function(){return y??x??A},o.setLevel=function(r,c){return y=m(r),c!==!1&&P(y),u.call(o)},o.setDefaultLevel=function(r){x=m(r),_()||o.setLevel(r,!1)},o.resetLevel=function(){y=null,D(),u.call(o)},o.enableAll=function(r){o.setLevel(o.levels.TRACE,r)},o.disableAll=function(r){o.setLevel(o.levels.SILENT,r)},o.rebuild=function(){if(i!==o&&(A=m(i.getLevel())),u.call(o),i===o)for(var r in f)f[r].rebuild()},A=m(i?i.getLevel():"WARN");var k=_();k!=null&&(y=m(k)),u.call(o)}i=new E,i.getLogger=function(s){if(typeof s!="symbol"&&typeof s!="string"||s==="")throw new TypeError("You must supply a name when creating a logger.");var o=f[s];return o||(o=f[s]=new E(s,i.methodFactory)),o};var $=typeof window!==n?window.log:void 0;return i.noConflict=function(){return typeof window!==n&&window.log===i&&(window.log=$),i},i.getLoggers=function(){return f},i.default=i,i})})(O);var N=O.exports;const g=K(N),R={level:"info",prefix:"[Backlog Enhancement]",timestamp:!0},w={boardAccordion:"error",issuePending:"error",shortcutKeys:"error",storage:"error",backlog:"error",background:"error",options:"error",content:"error"},S=new Map;function W(e){g.setLevel(e)}function F(e,l){const n=S.get(e);n&&n.setLevel(l),w[e]=l}function j(e){return w[e]||"info"}function z(){return{...w}}function J(e){const l=S.get(e);if(l)return l;const n=g.getLogger(e),L=w[e]||"info";n.setLevel(L);const p=n.methodFactory;return n.methodFactory=function(f,i,v){const h=p(f,i,v);return function(...b){const u=`[${new Date().toISOString()}]`,I=`${R.prefix}`,T=`[${f.toUpperCase()}]`,E=`[${e.charAt(0).toUpperCase()+e.slice(1)}]`,$=[`${u} ${I} ${T} ${E}`,...b].filter(Boolean);h(...$)}},n.setLevel(n.getLevel()),S.set(e,n),n}function U(){if(typeof window>"u"||typeof chrome>"u")return!0;try{return window.location.hostname==="localhost"||window.location.hostname.includes("dev")||chrome.runtime.getManifest().version.includes("dev")}catch{return!0}}function V(e){const l=g.methodFactory;g.methodFactory=function(n,L,p){const f=l(n,L,p);return function(...i){const v=e.timestamp?`[${new Date().toISOString()}]`:"",h=e.prefix?`${e.prefix}`:"",b=`[${n.toUpperCase()}]`,u=[`${v} ${h} ${b}`,...i].filter(Boolean);f(...u)}},g.setLevel(g.getLevel())}function Y(e){const l={...R,...e};U()?l.level="debug":l.level="warn",V(l),W(l.level),g.info("Logger initialized",{level:l.level,isDev:U()})}function d(e){const l=J(e);return{debug:(...n)=>l.debug(...n),info:(...n)=>l.info(...n),warn:(...n)=>l.warn(...n),error:(...n)=>l.error(...n)}}const H={debug:(...e)=>g.debug(...e),info:(...e)=>g.info(...e),warn:(...e)=>g.warn(...e),error:(...e)=>g.error(...e),boardAccordion:d("boardAccordion"),issuePending:d("issuePending"),shortcutKeys:d("shortcutKeys"),storage:d("storage"),backlog:d("backlog"),background:d("background"),options:d("options"),content:d("content"),popup:d("popup")},q={setLevel:F,getLevel:j,showAll:()=>{console.table(z())},enable:e=>{F(e,"debug"),console.log(`✅ ${e} logging enabled (debug level)`)},disable:e=>{F(e,"silent"),console.log(`❌ ${e} logging disabled`)},enableAll:()=>{Object.keys(w).forEach(e=>{F(e,"debug")}),console.log("✅ All feature logging enabled")},disableAll:()=>{Object.keys(w).forEach(e=>{F(e,"error")}),console.log("❌ All feature logging disabled (error only)")}};typeof window<"u"&&U()&&(window.__backlogLoggerControl__=q);Y();export{H as l};
