var c=Object.defineProperty;var g=(s,t,e)=>t in s?c(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var o=(s,t,e)=>g(s,typeof t!="symbol"?t+"":t,e);import{l as a}from"./logger.js";const r={boardAccordion:{enabled:!0},shortcutKeys:{enabled:!0},issuePending:{enabled:!0,autoResolve:!0}};class u{static async getSettings(){try{const e=(await chrome.storage.sync.get(this.SETTINGS_KEY))[this.SETTINGS_KEY];return e?this.mergeWithDefaults(e):r}catch(t){return a.storage.error("Failed to get settings:",t),r}}static async saveSettings(t){try{await chrome.storage.sync.set({[this.SETTINGS_KEY]:t})}catch(e){throw a.storage.error("Failed to save settings:",e),e}}static onSettingsChanged(t){chrome.storage.onChanged.addListener((e,n)=>{if(n==="sync"&&e[this.SETTINGS_KEY]){const i=e[this.SETTINGS_KEY].newValue;i&&t(this.mergeWithDefaults(i))}})}static mergeWithDefaults(t){return{boardAccordion:{...r.boardAccordion,...t.boardAccordion},shortcutKeys:{...r.shortcutKeys,...t.shortcutKeys},issuePending:{...r.issuePending,...t.issuePending}}}}o(u,"SETTINGS_KEY","backlog_usability_enhance_settings");export{r as D,u as S};
