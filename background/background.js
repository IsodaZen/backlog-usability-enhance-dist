import{l as a}from"../assets/logger.js";chrome.runtime.onInstalled.addListener(e=>{a.info("Backlog Usability Enhance installed:",e.reason),e.reason==="install"?a.info("First time installation"):e.reason==="update"&&a.info("Extension updated")});chrome.runtime.onStartup.addListener(()=>{a.info("Backlog Usability Enhance started")});chrome.runtime.onMessage.addListener((e,t,n)=>{var i;switch(a.debug("Message received in background:",e),e.type){case"GET_TAB_INFO":(i=t.tab)!=null&&i.id&&n({tabId:t.tab.id,url:t.tab.url,title:t.tab.title});break;default:a.warn("Unknown message type:",e.type),n({error:"Unknown message type"})}return!0});chrome.tabs.onUpdated.addListener((e,t,n)=>{t.status==="complete"&&n.url&&(n.url.includes(".backlog.jp")||n.url.includes(".backlog.com"))&&a.info("Backlog page loaded:",n.url)});chrome.storage.onChanged.addListener((e,t)=>{a.debug("Storage changed:",{changes:e,areaName:t}),t==="sync"&&e.backlog_usability_enhance_settings&&a.info("Settings updated:",e.backlog_usability_enhance_settings.newValue)});
